<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Escaleras Multiprop칩sito</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .producto { margin: 15px 0; }
    .oculto { display: none; }
    .destacado { font-weight: bold; color: green; }
  </style>
</head>
<body>

  <h2>Escaleras Multiprop칩sito Reforzado</h2>

  <!-- FORMULARIO PARA INGRESAR PIN -->
  <label>Ingrese su PIN para ver precios en Bs:</label><br>
  <input type="password" id="pin" placeholder="Ej: 1234">
  <button onclick="verificarPIN()">Ver precios</button>

  <div id="precios" class="oculto">
    <div class="producto">4x3 游녤 <span id="precio-4x3" class="destacado"></span></div>
    <div class="producto">4x4 游녤 <span id="precio-4x4" class="destacado"></span></div>
    <div class="producto">4x5 游녤 <span id="precio-4x5" class="destacado"></span></div>
    <div class="producto">4x6 游녤 <span id="precio-4x6" class="destacado"></span></div>
  </div>

  <script>
    const PIN_VALIDO = "1234"; // PIN de ejemplo, puedes usar uno distinto por cliente
    const preciosUSD = {
      '4x3': 55.5,
      '4x4': 65.4,
      '4x5': 75.3,
      '4x6': 85.2
    };

    async function obtenerTipoCambio() {
      try {
        const response = await fetch("https://dolarboliviahoy.com/api/tipo-cambio"); // Aseg칰rate de que este endpoint sea v치lido
        const data = await response.json();
        return parseFloat(data.tipo_cambio || data.oficial || data.paralelo); // Ajustar seg칰n estructura exacta del JSON
      } catch (error) {
        alert("Error al obtener tipo de cambio. Intente m치s tarde.");
        console.error("Error API:", error);
        return null;
      }
    }

    async function verificarPIN() {
      const pinIngresado = document.getElementById('pin').value.trim();
      if (pinIngresado === PIN_VALIDO) {
        const tipoCambio = await obtenerTipoCambio();
        if (!tipoCambio) return;

        for (const modelo in preciosUSD) {
          const precioBs = (preciosUSD[modelo] * tipoCambio).toFixed(2);
          document.getElementById(`precio-${modelo}`).textContent = `Bs ${precioBs}`;
        }
        document.getElementById('precios').classList.remove('oculto');
      } else {
        alert("PIN incorrecto. Intente nuevamente.");
      }
    }
  </script>

</body>
</html>
